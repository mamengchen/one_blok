---
title: 游戏设计—定时器
tags: 定时器,红黑树,小根堆
category: /小书匠/日记/2024-10
grammar_cjkRuby: true
---


定时器是用于即时和调度任务的工具，它允许在特定的时间间隔内执行某些任务，或者在特定的时间点执行某个操作。例如：在规定时间任务失败，操作系统的任务调度、网络传输的控制、实时系统的处理等多个方面。

----------

### 1.定时器的触发方式

对于服务端来说，驱动服务器业务逻辑的事件包括网络事件，定时事件，以及信号事件；通常来说网络事件和定时事件会进行协同处理；

#### 1.1、利用IO多路复用的超时餐数
> IO 多路复用的epoll 中的wait函数，他是将发生的事件给返回，其中最后一个参数是timeout，这就是一个定时器。

#### 1.2、抽象成fd
> 在epoll中，他将定时器抽象成了一个fd，可以将这个fd放到epoll中进行管理，当定时器触发后，会返回这个事件，然后就可以处理这个函数了。


### 2、容器和检测触发机制
